<template>
  <v-footer class="bg-grey-darken-3 text-center d-flex flex-column maybe-higher">
    <div>
      <v-btn v-for="icon in icons" :key="icon.name" class="mx-4" variant="text" v-html="icon.svg"
        @click="handleIconClick(icon)"></v-btn>
    </div>

    <div class="pt-0"></div>

    <v-divider></v-divider>

    <div>
      版权所有© {{ new Date().getFullYear() }} 深圳华秋电子有限公司
    </div>
  </v-footer>

  <!-- WeChat QR Code Dialog -->
  <v-dialog v-model="showWechatDialog" max-width="400">
    <v-card>
      <v-card-title class="text-h6">扫一扫关注我们</v-card-title>
      <v-card-text>
        <v-img src="@/assets/wechat-qr-code.jpg" alt="WeChat QR Code" />
      </v-card-text>
      <v-card-actions>
        <v-btn color="primary" @click="showWechatDialog = false">关闭</v-btn>
      </v-card-actions>
    </v-card>
  </v-dialog>
</template>

<script>
export default {
  data: () => ({
    showWechatDialog: false, // Controls the WeChat QR code dialog visibility
    icons: [
      {
        name: 'wechat',
        svg: `<svg t="1733203914658" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15636" width="24" height="24"><path d="M664.250054 368.541681c10.015098 0 19.892049 0.732687 29.67281 1.795902-26.647917-122.810047-159.358451-214.077703-310.826188-214.077703-169.353083 0-308.085774 114.232694-308.085774 259.274068 0 83.708494 46.165436 152.460344 123.281791 205.78483l-30.80868 91.730191 107.688651-53.455469c38.558178 7.53665 69.459978 15.308661 107.924012 15.308661 9.66308 0 19.230993-0.470721 28.752858-1.225921-6.025227-20.36584-9.521864-41.723264-9.521864-63.862493C402.328693 476.632491 517.908058 368.541681 664.250054 368.541681zM498.62897 285.87389c23.200398 0 38.557154 15.120372 38.557154 38.061874 0 22.846334-15.356756 38.156018-38.557154 38.156018-23.107277 0-46.260603-15.309684-46.260603-38.156018C452.368366 300.994262 475.522716 285.87389 498.62897 285.87389zM283.016307 362.090758c-23.107277 0-46.402843-15.309684-46.402843-38.156018 0-22.941502 23.295566-38.061874 46.402843-38.061874 23.081695 0 38.46301 15.120372 38.46301 38.061874C321.479317 346.782098 306.098002 362.090758 283.016307 362.090758zM945.448458 606.151333c0-121.888048-123.258255-221.236753-261.683954-221.236753-146.57838 0-262.015505 99.348706-262.015505 221.236753 0 122.06508 115.437126 221.200938 262.015505 221.200938 30.66644 0 61.617359-7.609305 92.423993-15.262612l84.513836 45.786813-23.178909-76.17082C899.379213 735.776599 945.448458 674.90216 945.448458 606.151333zM598.803483 567.994292c-15.332197 0-30.807656-15.096836-30.807656-30.501688 0-15.190981 15.47546-30.477129 30.807656-30.477129 23.295566 0 38.558178 15.286148 38.558178 30.477129C637.361661 552.897456 622.099049 567.994292 598.803483 567.994292zM768.25071 567.994292c-15.213493 0-30.594809-15.096836-30.594809-30.501688 0-15.190981 15.381315-30.477129 30.594809-30.477129 23.107277 0 38.558178 15.286148 38.558178 30.477129C806.808888 552.897456 791.357987 567.994292 768.25071 567.994292z" fill="#ffffff" p-id="15637"></path></svg>`,
        link: '', // No link for WeChat
      },
      {
        name: 'tiktok',
        svg: `<svg t="1733203994993" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2439" width="24" height="24"><path d="M862.51879883 439.40783691c-69.21386719 0-136.53259278-22.49450684-191.90368653-64.1052246v290.28625488c0 148.23303223-114.20288086 268.28613281-255.10253905 268.28613281S160.41003418 813.82189942 160.41003418 665.58886719c0-148.23303223 114.20288086-268.28613281 255.10253907-268.28613281 14.08996583 0 27.76794434 1.23596192 41.116333 3.54309081v153.75366211c-12.77160645-5.02624512-26.3671875-7.58056641-40.04516602-7.5805664-62.8692627 0-113.87329102 53.55834961-113.87329101 119.72351074 0 66.08276367 51.00402833 119.72351075 113.87329101 119.72351075 62.78686523 0 113.79089356-53.64074708 113.79089356-119.72351075V90.125H672.67504883c0 110.82458497 85.446167 200.63781739 190.83251953 200.63781739v148.56262206l-0.98876953 0.08239747" fill="#ffffff" p-id="2440"></path></svg>`,
        link: '', // FIXME: Add  kicad-hq
      },
      {
        name: 'bilibili',
        svg: `<svg t="1733204180226" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3706" width="24" height="24"><path d="M755.904 52.16c20.8 23.232 21.12 49.344 1.152 70.976l-5.44 5.312-57.408 51.328 128 0.064c41.728 0 81.984 13.44 113.856 37.44l10.24 8.384 8.832 8.32a158.4 158.4 0 0 1 46.336 101.12l0.384 12.544v391.04c0 89.28-75.456 161.92-169.6 167.168l-16.384 0.256-0.128 2.432-0.64 4.48-1.088 4.352-2.88 8.512a68.8 68.8 0 0 1-54.592 41.984l-8.96 0.64-9.088-0.64a69.056 69.056 0 0 1-54.72-41.92 68.544 68.544 0 0 1-4.672-17.408l-0.128-2.432H348.544l-0.128 2.432-0.64 4.48-1.088 4.352-2.88 8.512a68.736 68.736 0 0 1-54.592 41.984l-8.96 0.64-9.152-0.64a68.864 68.864 0 0 1-59.328-59.328l-0.128-2.432h-5.44c-91.776 0-168.192-63.808-179.2-146.752L25.856 748.8l-0.32-10.24V347.392c0-89.344 75.456-161.984 169.6-167.232l11.008-0.32 126.976-0.064-57.408-51.392c-21.12-18.88-25.664-42.048-13.248-63.872l4.224-6.528 4.736-5.888c20.864-23.296 46.72-26.432 70.4-8.96l5.952 4.736 147.456 131.904h36.8l147.52-131.84c25.216-22.592 53.76-20.992 76.288 4.224z m66.304 240.448H206.208c-35.328 0-63.488 21.888-67.392 48.512l-0.448 6.272v391.232c0 27.328 25.728 51.136 59.84 54.4l8 0.384h615.04c35.264 0 63.488-21.824 67.328-48.512l0.448-6.272V346.688a46.016 46.016 0 0 0-14.208-33.472 73.792 73.792 0 0 0-52.608-20.608zM512 609.472a49.28 49.28 0 0 1 32.896 12.992l4.928 5.248 19.712 24.32 28.8-21.376c4.48-3.2 9.6-5.312 14.912-6.144l5.376-0.448 5.44 0.384a35.008 35.008 0 0 1 19.968 58.688l-4.16 3.776-44.224 33.024a49.216 49.216 0 0 1-62.976-3.2l-4.928-5.312-16.576-20.352-16.96 20.224a49.472 49.472 0 0 1-18.368 13.44l-7.232 2.496-7.616 1.28a49.472 49.472 0 0 1-29.44-6.592l-6.4-4.48-38.784-32a35.008 35.008 0 0 1 40-57.088l4.48 3.2 23.04 18.944 19.84-23.36a49.28 49.28 0 0 1 6.848-6.72l3.84-2.816 6.272-3.456A49.792 49.792 0 0 1 512 609.472zM388.672 404.544l6.72 0.768a50.56 50.56 0 0 1 40.704 39.424 51.392 51.392 0 0 1-32.384 58.752l-6.592 1.92-156.16 35.584A51.008 51.008 0 0 1 211.84 443.52l7.616-2.24 155.84-35.456a50.56 50.56 0 0 1 13.44-1.28z m243.392 0.704a50.56 50.56 0 0 1 13.44-0.576l6.656 1.088 155.584 35.392a51.008 51.008 0 0 1-13.44 100.8l-8.128-1.024-155.776-35.52a51.392 51.392 0 0 1-31.36-78.72 50.56 50.56 0 0 1 33.024-21.44z" fill="#ffffff" p-id="3707"></path></svg>`,
        link: 'https://space.bilibili.com/582091445', // Example link
      },
      {
        name: 'gitlab',
        svg: `<svg t="1733204229131" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4888" width="24" height="24"><path d="M59.544137 403.419429L512.115566 983.405714 16.09728 623.396571a39.936 39.936 0 0 1-14.299429-43.995428l57.709715-176.018286z m264.009143 0h377.161143L512.152137 983.405714zM210.40128 53.723429l113.152 349.696H59.544137l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z m754.285714 349.696l57.709715 176.018285a39.862857 39.862857 0 0 1-14.299429 43.995429l-496.018286 360.009143 452.571429-579.986286z m0 0h-264.009143l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z" fill="#ffffff" p-id="4889"></path></svg>`,
        link: 'https://gitlab.com/kicad-hq/kicad', // Example link
      }
    ]
  }),
  methods: {
    handleIconClick(icon) {
      if (icon.name === 'wechat') {
        this.showWechatDialog = true;
      } else {
        window.open(icon.link, '_blank');
      }
    }
  }
}
</script>

<style scoped>
.v-footer {
  margin-top: -8vh;
}
</style>
